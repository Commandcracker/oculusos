local function a()print("Usages:")print("pastebin put <filename>")print("pastebin get <code> <filename>")print("pastebin run <code> <arguments>")end;local b={...}if#b<2 then a()return end;if not http then printError("Pastebin requires http API")printError("Set http_enable to true in ComputerCraft.cfg")return end;local function c(d)write("Connecting to pastebin.com... ")local e=http.get("https://pastebin.com/raw/"..textutils.urlEncode(d))if e then print("Success.")local f=e.readAll()e.close()return f else print("Failed.")end end;local g=b[1]if g=="put"then local h=b[2]local i=shell.resolve(h)if not fs.exists(i)or fs.isDir(i)then print("No such file")return end;local j=fs.getName(i)local k=fs.open(i,"r")local l=k.readAll()k.close()write("Connecting to pastebin.com... ")local m="0ec2eb25b6166c0c27a394ae118ad829"local e=http.post("https://pastebin.com/api/api_post.php","api_option=paste&".."api_dev_key="..m.."&".."api_paste_format=lua&".."api_paste_name="..textutils.urlEncode(j).."&".."api_paste_code="..textutils.urlEncode(l))if e then print("Success.")local f=e.readAll()e.close()local n=string.match(f,"[^/]+$")print("Uploaded as "..f)print("Run \"pastebin get "..n.."\" to download anywhere")else print("Failed.")end elseif g=="get"then if#b<3 then a()return end;local n=b[2]local h=b[3]local i=shell.resolve(h)if fs.exists(i)then print("File already exists")return end;local o=c(n)if o then local k=fs.open(i,"w")k.write(o)k.close()print("Downloaded as "..h)end elseif g=="run"then local n=b[2]local o=c(n)if o then local p,q=load(o,n,"t",_ENV)if not p then printError(q)return end;local r,s=pcall(p,table.unpack(b,3))if not r then printError(s)end end else a()return end