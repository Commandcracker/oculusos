local function a(b)if b>=1000*1000 then return math.floor(b/(100*1000))/10 .."MB"elseif b>=1000 then return math.floor(b/100)/10 .."KB"else return b.."B"end end;local c={{"Drive","Size","Used","Avail"}}local function d(e)local f=0;local g=fs.getDrive(e)local function h(i)if fs.getDrive(i)==g then if fs.isDir(i)then if i~=e then f=f+500 end;for j,k in pairs(fs.list(i))do h(fs.combine(i,k))end else local l=fs.getSize(i)if g=='rom'then f=f+l else f=f+math.max(500,l)end end end end;h(e)table.insert(c,{e,a(f+fs.getFreeSpace(e)),a(f),a(fs.getFreeSpace(e))})end;d("/")for j,m in ipairs(peripheral.getNames())do if peripheral.getType(m)=="drive"then mount=disk.getMountPath(m)if mount then d('/'..mount)end end end;local n={}for o,p in pairs(c)do for q,k in pairs(p)do if not n[q]then n[q]=0 end;if tostring(k):len()>n[q]then n[q]=tostring(k):len()end end end;for o,p in pairs(c)do for q,k in pairs(p)do for r=n[q]-tostring(k):len(),0,-1 do c[o][q]=c[o][q].." "end end;for q,k in pairs(p)do write(k)end;print()end