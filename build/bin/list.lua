local a={...}local b=shell.dir()if a[1]~=nil then b=shell.resolve(a[1])end;if not fs.isDir(b)then printError("Not a directory")return end;local c=fs.list(b)local d={}local e={}local f=false;if settings then f=settings.get("list.show_hidden")end;for g,h in pairs(c)do if f or string.sub(h,1,1)~="."then local i=fs.combine(b,h)if fs.isDir(i)then table.insert(e,h)else table.insert(d,h)end end end;table.sort(e)table.sort(d)if term.isColour()then textutils.pagedTabulate(colors.green,e,colors.white,d)else textutils.pagedTabulate(colors.lightGray,e,colors.white,d)end